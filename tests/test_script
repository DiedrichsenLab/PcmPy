#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
test_indicator

@author: jdiedrichsen
"""
import sys
print(sys.path)
sys.path.append('/Users/jdiedrichsen/Python')
import unittest
import PcmPy as pcm
import numpy as np
import pickle

# class TestInference(unittest.TestCase):
f = open('/Users/jdiedrichsen/Python/PcmPy/demos/data_finger7T.p','rb')
Y,M = pickle.load(f)
f.close()
MC=pcm.ModelComponent('muscle',M[0].G)
Z, X, YY, Noise, G_hat = pcm.inference.set_up_fit(Y[0])
n_channel = Y[0].measurements.shape[1]
G,Sig = pcm.util.est_G_crossval(Y[0].measurements, Z,
                                Y[0].obs_descriptors['part_vec'])
T, theta, INFO = pcm.inference.fit_model_individ(Y[0],MC)
pass